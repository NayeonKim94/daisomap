<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>🟥 2025 다이소 가맹점 지도 🟥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="WnF2ei0gbsnq-e36FIffn4uhUWwkS6yNiJsrByOPc3Q" />
  <style>
    body { font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, sans-serif; margin: 0; padding: 0; background: #fafafd; }
    h1 { text-align: center; margin: 26px 0 7px 0; font-size: 2.2em; }
    #subtitle { text-align: center; font-size: 1.12em; color: #444; margin-bottom: 10px; font-weight: 500; }
    #kakao-alert { display: none; max-width: 96vw; margin: 0 auto 10px auto; background: #ffeaea; color: #cf2222; border-radius: 11px; font-size: 0.73em; padding: 8px 11px 8px 10px; line-height: 1.7; word-break: keep-all; text-align: center; font-weight: 500;}
    #container { max-width: 900px; margin: auto; padding: 10px; }
    #searchBox { margin-bottom: 12px; width: 100%; max-width: 400px; padding: 10px; font-size: 1.1em; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; display: block; margin-left: auto; margin-right: auto; }
    #results { margin-bottom:15px; background: #fff; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.03); font-size: 1em;}
    .store-item { padding:12px; border-bottom:1px solid #f0f0f0; cursor:pointer; transition: background 0.15s; }
    .store-item:hover, .store-item:active { background:#ffe4e1; }
    .no-result { color:#E13A3A; padding:16px; text-align:center; }
    #map { width: 100%; min-width: 0; height: 400px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.07); background: #fff; margin-bottom: 18px;}
    #ad-vertical-wrap { display: flex; justify-content: center; margin: 0 0 10px 0;}
    #ad-vertical { width: 400px; min-width: 200px; max-width: 99vw; height: 140px; display: flex; justify-content: center; align-items: center; }
    #pagination { text-align:center; margin-bottom: 15px; }
    .page-btn { display:inline-block; margin:0 4px; font-size:1em; border:none; background:none; cursor:pointer; color:#555; padding:2px 7px; border-radius:4px;}
    .page-btn.active, .page-btn:active { background:#ffe4e1; color:#c00; font-weight:bold;}
    .page-btn.block { color: #333; font-weight: bold; padding:2px 7px; }
    .hits-counter {
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 999;
      background: none;
      border: none;
      box-shadow: none;
      padding: 0;
      margin: 0;
      cursor: pointer;
    }
    @media (max-width: 700px) {
      #map { height: 200px;}
      h1 { font-size: 1.13em; }
      #subtitle { font-size: 0.93em; }
      #ad-vertical { max-width: 99vw; width:99vw; height: 110px;}
      .hits-counter { right: 7px; bottom: 7px; }
    }
    footer { text-align: center; color: #111; margin: 25px 6vw 13px 6vw; font-size: 0.58em; line-height: 1.7; background: none; padding-left: 2vw; padding-right: 2vw;}
    .adnotice { color: #111; margin-bottom: 3px; font-size: inherit;}
    .disclaimer { color: #DA0037; margin-bottom: 3px; font-size: inherit;}
  </style>
</head>
<body>
  <div id="kakao-alert">
    ⚠️ 카카오톡에서는 지도가 보이지 않을 수 있습니다.<br>
    오른쪽 위 ⋮ 버튼 또는, 하단 ↑ 버튼에서 Safari/Chrome으로 열어주세요!
  </div>
  <div id="container">
    <h1>🟥 2025 다이소 가맹점 지도 🟥</h1>
    <div id="subtitle">민생회복 소비쿠폰 사용처 안내</div>
    <input type="text" id="searchBox" placeholder="지역명으로 검색 (예: 경주)">
    <div id="results"></div>
    <div id="pagination"></div>
    <div id="map"></div>
    <div id="ad-vertical-wrap">
      <div id="ad-vertical"></div>
    </div>
  </div>
  <footer>
    <div class="adnotice">
      이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다.
    </div>
    <div class="disclaimer">
      ※ 본 사이트는 다이소 및 아성다이소와 무관한 비공식 서비스입니다. 매장 정보의 정확성은 보장되지 않을 수 있으며, 공식 정보는 다이소 홈페이지를 참고해주세요.
    </div>
    © 2025 가맹점 위치 안내 서비스 | All rights reserved. | 만든이: nayeonkim8294@gmail.com
  </footer>
  <!-- 방문자수(히트카운터) - 지도 바깥 오른쪽 아래 고정 -->
  <a href="https://hits.sh/nayeonkim94.github.io/daisomap/" target="_blank" class="hits-counter">
    <img alt="Hits" src="https://hits.sh/nayeonkim94.github.io/daisomap.svg?view=today-total&style=flat-square&label=visitors&extraCount=1000&color=ffffff&labelColor=ffffff"/>
  </a>
  <!-- 쿠팡 광고 -->
  <script src="https://ads-partners.coupang.com/g.js"></script>
  <!-- 카카오맵 JS -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0c335bf7b64cf3ae9c659bde98a24c81"></script>
  <script>
    // 카카오톡 인앱 감지
    function isKakaoInApp() {
      const ua = navigator.userAgent.toLowerCase();
      return ua.includes("kakaotalk");
    }
    window.onload = function() {
      if (isKakaoInApp()) {
        document.getElementById('kakao-alert').style.display = 'block';
      }
      // 쿠팡 광고를 광고 영역(#ad-vertical)에 attach!
      new PartnersCoupang.G({
        "id": 887502,
        "template": "carousel",
        "trackingCode": "AF1267708",
        "width": "400",
        "height": "140",
        "tsource": ""
      }).attachTo(document.getElementById("ad-vertical"));
    };

    // 경북 다이소 가맹점(이름순 정렬)
    var stores = [
      {name:"다이소 경북고령점",address:"경북 고령군 대가야읍 우륵로 18",tel:"054-954-8837",lat:35.73148218,lng:128.2695328},
      {name:"다이소 경북의성점",address:"경북 의성군 의성읍 문소3길 41",tel:"054-833-1156",lat:36.34967307,lng:128.695164},
      {name:"다이소 경북영덕점",address:"경북 영덕군 영덕읍 덕곡길 89-1",tel:"054-733-2600",lat:36.41169907,lng:129.3696101},
      {name:"다이소 경북영양점",address:"경북 영양군 영양읍 동서대로 116",tel:"054-683-3438",lat:36.66215509,lng:129.1220551},
      {name:"다이소 경북울진점",address:"경북 울진군 울진읍 읍내8길 20",tel:"054-781-6016",lat:36.99461617,lng:129.4025065},
      {name:"다이소 경북청도점",address:"경북 청도군 청도읍 청화로 145",tel:"054-371-6018",lat:35.64489998,lng:128.7420125},
      {name:"다이소 경북풍기점",address:"경북 영주시 풍기읍 소백로 1892",tel:"054-927-1892",lat:36.86593252,lng:128.5357008},
      {name:"다이소 경산사동점",address:"경북 경산시 백자로 56",tel:"053-818-6016",lat:35.81090484,lng:128.7542483},
      {name:"다이소 경산신대부적점",address:"경북 경산시 압량읍 대학로 367",tel:"053-816-6016",lat:35.84147958,lng:128.7603299},
      {name:"다이소 경산진량점",address:"경북 경산시 진량읍 다문로 62",tel:"053-853-6016",lat:35.87456775,lng:128.8179938},
      {name:"다이소 경주건천점",address:"경북 경주시 건천읍 내서로 1084",tel:"054-701-2750",lat:35.85143769,lng:129.1007029},
      {name:"다이소 경주동국대점",address:"경북 경주시 석현로 63-6",tel:"054-741-0005",lat:35.85981203,lng:129.1891846},
      {name:"다이소 경주모화점",address:"경북 경주시 외동읍 산업로 1750",tel:"054-771-1101",lat:35.67094891,lng:129.3360296},
      {name:"다이소 경주불국사점",address:"경북 경주시 구매두림길 24 해밀튼카운티시래 102동",tel:"054-777-6016",lat:35.77330097,lng:129.3056236},
      {name:"다이소 경주안강산대점",address:"경북 경주시 안강읍 안강중앙로 162",tel:"054-763-5222",lat:35.99301291,lng:129.2177293},
      {name:"다이소 경주외동점",address:"경북 경주시 외동읍 입실로 4",tel:"054-775-6016",lat:35.70849095,lng:129.3257737},
      {name:"다이소 경주중앙시장점",address:"경북 경주시 화랑로 49",tel:"054-777-5507",lat:35.8448686,lng:129.2061446},
      {name:"다이소 경주충효점",address:"경북 경주시 충효녹지길 72",tel:"070-4287-7118",lat:35.84293816,lng:129.1832456},
      {name:"다이소 경주황성점",address:"경북 경주시 용담로 88",tel:"054-771-9944",lat:35.86403815,lng:129.2121046},
      {name:"다이소 김천아포점",address:"경북 김천시 아포읍 아포대로 1050",tel:"054-435-7292",lat:36.15843351,lng:128.2440044},
      {name:"다이소 김천혁신도시점",address:"경북 김천시 혁신3로 17",tel:"054-430-6709",lat:36.11702869,lng:128.1834346},
      {name:"다이소 구미상모사곡점",address:"경북 구미시 상사서로 94",tel:"054-461-9929",lat:36.09092664,lng:128.3555393},
      {name:"다이소 구미선산점",address:"경북 구미시 선산읍 남문로2길 46",tel:"054-482-0001",lat:36.24255676,lng:128.304202},
      {name:"다이소 구미오태북삼점",address:"경북 구미시 금오대로 300",tel:"054-463-6016",lat:36.07126424,lng:128.3494537},
      {name:"다이소 구미원호점",address:"경북 구미시 고아읍 문장로 178",tel:"054-452-1909",lat:36.14916031,lng:128.3312047},
      {name:"다이소 구미인동점",address:"경북 구미시 인동중앙로10길 24",tel:"054-472-4973",lat:36.10819241,lng:128.4251519},
      {name:"다이소 구미문성지구점",address:"경북 구미시 고아읍 들성로 253",tel:"054-452-4455",lat:36.16140959,lng:128.3480243},
      {name:"다이소 구미비산점",address:"경북 구미시 비산로3길 33-23",tel:"054-464-9988",lat:36.12234827,lng:128.3746919},
      {name:"다이소 구미봉곡점",address:"경북 구미시 봉곡로 161",tel:"054-455-0425",lat:36.16140959,lng:128.3480243},
      {name:"다이소 포항우현점",address:"경북 포항시 북구 새천년대로933번길 6",tel:"054-253-5425",lat:36.05513543,lng:129.3633568},
      {name:"다이소 포항유강점",address:"경북 포항시 남구 연일읍 유강길17번길 3",tel:"054-277-3822",lat:36.00463619,lng:129.3188154},
      {name:"다이소 포항효자SK점",address:"경북 포항시 남구 효성로52번길 7",tel:"054-272-0811",lat:36.00537347,lng:129.339527},
      {name:"다이소 포항흥해점",address:"경북 포항시 북구 흥해읍 한동로 30-1",tel:"054-253-8484",lat:36.11068761,lng:129.3448324},
      {name:"다이소 울진후포점",address:"경북 울진군 후포면 정실1길 20",tel:"054-788-0333",lat:36.67594623,lng:129.4421253},
      {name:"다이소 영주가흥점",address:"경북 영주시 대학로 250",tel:"054-635-5885",lat:36.81786948,lng:128.604941},
      {name:"다이소 영주점",address:"경북 영주시 중앙로81번길 5 1층",tel:"054-633-7772",lat:36.82277887,lng:128.6242675},
      {name:"다이소 홈플러스경산점",address:"경북 경산시 경안로 288",tel:"053-812-6016",lat:35.83282531,lng:128.7356446},
      {name:"다이소 청송진보점",address:"경북 청송군 진보면 진안로 15-10",tel:"054-872-6016",lat:36.5280924,lng:129.0433333}
    ];
    stores.sort((a,b)=>a.name.localeCompare(b.name,"ko"));

    // 페이지네이션
    const PAGE_SIZE = 5;
    const PAGE_BLOCK = 5;
    let filteredStores = stores;
    let currentPage = 1;

    function showResults(page=1) {
      currentPage = page;
      const start = (page-1)*PAGE_SIZE;
      const pageStores = filteredStores.slice(start, start+PAGE_SIZE);
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = "";
      if(pageStores.length === 0) {
        resultsDiv.innerHTML = `<div class="no-result">해당지역은 아직 등록이 안됐습니다</div>`;
        document.getElementById('map').style.display = "none";
        return;
      }
      document.getElementById('map').style.display = "";
      pageStores.forEach((store,idx)=>{
        const div = document.createElement('div');
        div.className = 'store-item';
        div.innerHTML = `<b>${store.name}</b><br>${store.address}<br>${store.tel}`;
        div.onclick = function(){
          map.setCenter(new kakao.maps.LatLng(store.lat, store.lng));
          infowindows.forEach(iw=>iw.close());
          infowindows[start+idx].open(map, markers[start+idx]);
        };
        resultsDiv.appendChild(div);
      });
      showStores(pageStores, start);
      setPagination(page, Math.ceil(filteredStores.length / PAGE_SIZE));
    }

    function setPagination(current, total) {
      const paginationDiv = document.getElementById('pagination');
      paginationDiv.innerHTML = "";

      let blockStart = Math.floor((current-1)/PAGE_BLOCK)*PAGE_BLOCK+1;
      let blockEnd = Math.min(blockStart + PAGE_BLOCK - 1, total);

      if(blockStart > 1) {
        const prev = document.createElement('button');
        prev.innerText = '◀';
        prev.className = 'page-btn block';
        prev.onclick = ()=> showResults(blockStart-1);
        paginationDiv.appendChild(prev);
      }

      for(let i=blockStart;i<=blockEnd;i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.className = 'page-btn' + (i === current ? ' active':'');
        btn.onclick = ()=> showResults(i);
        paginationDiv.appendChild(btn);
      }

      if(blockEnd < total) {
        const next = document.createElement('button');
        next.innerText = '▶';
        next.className = 'page-btn block';
        next.onclick = ()=> showResults(blockEnd+1);
        paginationDiv.appendChild(next);
      }
    }

    // 지도, 마커, 인포윈도우
    var mapContainer = document.getElementById('map'),
      mapOption = {center: new kakao.maps.LatLng(36.5, 127.9), level: 8};
    var map = new kakao.maps.Map(mapContainer, mapOption);

    var markers = [];
    var infowindows = [];

    function showStores(pageStores, offset) {
      // 마커/인포윈도우 삭제
      markers.forEach(marker=>marker.setMap(null));
      infowindows.forEach(iw=>iw.close());
      markers = [];
      infowindows = [];
      pageStores.forEach(function(store, idx){
        // 완전한 카드형 스퀘어(화살표/테두리 말풍선 없이)
        var infowindow = new kakao.maps.InfoWindow({
          content:
            `<div style="max-width:370px; min-width:160px; width:auto; word-break:break-all; white-space:normal; font-size:15px; line-height:1.7; padding:14px 19px; font-family:'Malgun Gothic',Arial,sans-serif; box-sizing:border-box; border-radius:11px; background:#fff; border:0; box-shadow:0 2px 8px rgba(0,0,0,0.09);">
              <b style="font-size:16px; display:block; margin-bottom:6px;">${store.name}</b>
              <span style="font-size:14px;">${store.address}</span><br>
              <span style="font-size:14px;">${store.tel}</span>
            </div>`,
          removable: false,
          zIndex: 2,
          disableAutoPan: false
        });
        var marker = new kakao.maps.Marker({
          map: map,
          position: new kakao.maps.LatLng(store.lat, store.lng),
          image: new kakao.maps.MarkerImage('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png', new kakao.maps.Size(32, 35), {offset: new kakao.maps.Point(16, 34)})
        });
        kakao.maps.event.addListener(marker, 'click', function() {
          infowindows.forEach(iw=>iw.close());
          infowindow.open(map, marker);
        });
        markers.push(marker);
        infowindows.push(infowindow);
      });

      // 첫 매장 위치로 지도 이동, 첫 마커만 자동으로 오픈
      if (pageStores.length > 0) {
        map.setCenter(new kakao.maps.LatLng(pageStores[0].lat, pageStores[0].lng));
        infowindows[0].open(map, markers[0]);
      }
    }

    // 검색 기능
    document.getElementById('searchBox').addEventListener('input', function(){
      var keyword = this.value.trim();
      if (keyword === "") {
        filteredStores = stores;
      } else {
        filteredStores = stores.filter(function(store){
          return store.name.includes(keyword) || store.address.includes(keyword);
        });
      }
      currentPage = 1;
      showResults(currentPage);
    });

    // 첫 진입 시
    showResults(1);
  </script>
</body>
</html>
