<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2025 다이소 가맹점 지도</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="WnF2ei0gbsnq-e36FIffn4uhUWwkS6yNiJsrByOPc3Q" />
  <meta name="naver-site-verification" content="bc03a3756485fc617c2a7704a949f03e25983825" />
  <style>
    body {
      font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, sans-serif;
      margin: 0; padding: 0;
      background: #fafafd;
    }
    h1 {
      text-align: center;
      margin: 26px 0 6px 0;
      font-size: 2.8em;
      letter-spacing: 0.03em;
    }
    .kakao-notice {
      display: none;
      margin: 0 auto 12px auto;
      max-width: 92vw;
      background: #fff6f7;
      color: #e13a3a;
      border-radius: 22px;
      font-size: 0.82em;
      font-weight: 500;
      text-align: center;
      box-shadow: 0 2px 6px rgba(229, 24, 54, 0.05);
      padding: 13px 18px 12px 18px;
      position: relative;
      z-index: 2;
      border: 1px solid #ffd7e1;
      line-height: 1.65;
      word-break: keep-all;
    }
    #container {
      max-width: 900px;
      margin: auto;
      padding: 10px;
    }
    #searchBox {
      margin-bottom: 12px;
      width: 100%;
      max-width: 400px;
      padding: 10px;
      font-size: 1.1em;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-sizing: border-box;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    #results {
      margin-bottom:15px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.03);
      font-size: 1em;
    }
    .store-item {
      padding:12px;
      border-bottom:1px solid #f0f0f0;
      cursor:pointer;
      transition: background 0.15s;
    }
    .store-item:hover, .store-item:active {
      background:#ffe4e1;
    }
    .no-result {
      color:#E13A3A;
      padding:16px;
      text-align:center;
    }
    #map {
      width: 100%;
      height: 400px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      background: #fff;
      margin-bottom: 10px;
      min-height: 200px;
    }
    .counter-box {
      width: 100%;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin: 5px 0 0 0;
      font-size: 0.93em;
      color: #b2b2b2;
      padding-right: 8px;
      user-select: none;
      pointer-events: none;
      font-family: 'Consolas', 'Menlo', 'monospace', Arial, sans-serif;
    }
    .counter-box b { color: #444; font-weight: 600; margin-left:2px;}
    footer {
      text-align: center;
      color: #111;
      margin: 24px 0 13px 0;
      font-size: 0.74em;
      line-height: 1.65;
      background: none;
      padding: 0;
      font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, sans-serif;
    }
    .adnotice, .copyright {
      color: #111;
      font-size: inherit;
      margin-bottom: 2px;
      letter-spacing: 0.01em;
    }
    .disclaimer {
      color: #DA0037;
      font-size: inherit;
      margin-bottom: 2px;
      letter-spacing: 0.01em;
    }
    @media (max-width: 700px) {
      h1 { font-size: 1.18em; }
      .kakao-notice { font-size: 0.76em; padding: 9px 5vw 9px 5vw; }
      #container { padding: 3vw; }
      #map { height: 220px; }
      .counter-box { font-size: 0.81em; padding-right: 2px; }
      footer { font-size: 0.69em; }
    }
  </style>
</head>
<body>
  <h1>🟥 2025 다이소 가맹점 지도 🟥</h1>
  <div id="kakaoNotice" class="kakao-notice">
    ⚠️ 카카오톡에서는 지도가 보이지 않을 수 있습니다. 오른쪽 위 <b>⋮</b> 메뉴 또는 하단 <b>↑</b> 메뉴에서 <b>Safari/Chrome으로 열기</b>를 선택해 주세요, 또는
  </div>
  <div id="container">
    <input type="text" id="searchBox" placeholder="지역명으로 검색 (예: 경주)">
    <div id="results"></div>
    <div id="map"></div>
    <div class="counter-box" id="todayCounter">Today <b>0</b></div>
  </div>
  <footer>
    <div class="adnotice">
      이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다.
    </div>
    <div class="disclaimer">
      ※ 본 사이트는 다이소 및 아성다이소와 무관한 비공식 서비스입니다. 매장 정보의 정확성은 보장되지 않을 수 있으며, 공식 정보는 다이소 홈페이지를 참고해주세요.
    </div>
    <div class="copyright">
      © 2025 가맹점 위치 안내 서비스 | All rights reserved. | 만든이: nayeonkim8294@gmail.com
    </div>
  </footer>
  <!-- Statcounter 방문자수 카운터 (Today만) -->
  <script type="text/javascript">
    function updateTodayCounter(num) {
      document.getElementById("todayCounter").innerHTML = "Today <b>" + num + "</b>";
    }
    (function() {
      var sc_project=13149890; 
      var sc_invisible=1; 
      var sc_security="a878f572"; 
      var img = new Image();
      img.src = "https://c.statcounter.com/"+sc_project+"/0/"+sc_security+"/0/";
      img.onload = function(){
        setTimeout(function(){
          fetch('https://statcounter.com/p13149890/summary/?guest=1')
          .then(r=>r.text()).then(html=>{
            var m = html.match(/오늘[\s\S]*?([0-9,]+)[^\d]/) || html.match(/Today[\s\S]*?([0-9,]+)[^\d]/);
            var today = m ? (m[1].replace(/,/g,'')) : "0";
            updateTodayCounter(today);
          });
        }, 1200);
      };
    })();
  </script>
  <!-- 카카오맵 JS -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=32b4338378d7c102f93e7548e7db28e4"></script>
  <script>
    function isKakaoAppWebView() {
      var ua = navigator.userAgent.toLowerCase();
      return ua.indexOf("kakaotalk") > -1;
    }
    if(isKakaoAppWebView()) {
      document.getElementById("kakaoNotice").style.display = "block";
    }

    var redMarkerUrl = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png';
    var stores = [
      {name: "다이소 경주점", lat: 35.8562, lng: 129.2247, address: "경북 경주시 원화로 295", tel: "054-000-0000"},
      {name: "다이소 경주터미널점", lat: 35.8434, lng: 129.2033, address: "경북 경주시 구황로 36", tel: "054-111-2222"},
      {name: "다이소 서울점", lat: 37.5665, lng: 126.9780, address: "서울특별시 중구 세종대로 110", tel: "02-333-4444"},
      {name: "다이소 부산점", lat: 35.1796, lng: 129.0756, address: "부산광역시 중구 중앙대로 26", tel: "051-555-6666"}
    ];
    var mapContainer = document.getElementById('map'),
        mapOption = {center: new kakao.maps.LatLng(36.5, 127.9), level: 7};
    var map = new kakao.maps.Map(mapContainer, mapOption);
    var markers = [];
    var infowindows = [];
    function showStores(filteredStores) {
      markers.forEach(function(marker){ marker.setMap(null); });
      infowindows.forEach(function(iw){ iw.close(); });
      markers = [];
      infowindows = [];
      filteredStores.forEach(function(store, idx){
        var infowindow = new kakao.maps.InfoWindow({
          content:
            `<div style="max-width:370px; min-width:170px; width:auto;
                word-break:keep-all; white-space:normal;
                font-size:15px; line-height:1.7; padding:12px 15px;
                font-family:'Malgun Gothic',Arial,sans-serif;
                box-sizing:border-box; border-radius:7px;">
              <b style="font-size:16px; display:block; margin-bottom:6px;">${store.name}</b>
              <span style="font-size:14px;">${store.address}</span><br>
              <span style="font-size:14px;">${store.tel}</span>
            </div>`
        });
        var marker = new kakao.maps.Marker({
          map: map,
          position: new kakao.maps.LatLng(store.lat, store.lng),
          image: new kakao.maps.MarkerImage(redMarkerUrl, new kakao.maps.Size(32, 35), {offset: new kakao.maps.Point(16, 34)})
        });
        kakao.maps.event.addListener(marker, 'click', function() {
          infowindows.forEach(function(iw){ iw.close(); });
          infowindow.open(map, marker);
        });
        markers.push(marker);
        infowindows.push(infowindow);
      });
      if (filteredStores.length > 0) {
        map.setCenter(new kakao.maps.LatLng(filteredStores[0].lat, filteredStores[0].lng));
      }
    }
    function showResults(filteredStores) {
      var resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = "";
      if (filteredStores.length === 0) {
        resultsDiv.innerHTML = '<div class="no-result">해당 지역은 다이소 가맹점이 없습니다</div>';
        return;
      }
      filteredStores.forEach(function(store, idx){
        var div = document.createElement('div');
        div.className = 'store-item';
        div.innerHTML = `<b>${store.name}</b><br>${store.address}<br>${store.tel}`;
        div.onclick = function(){
          map.setCenter(new kakao.maps.LatLng(store.lat, store.lng));
          infowindows.forEach(function(iw){ iw.close(); });
          infowindows[idx].open(map, markers[idx]);
        };
        resultsDiv.appendChild(div);
      });
    }
    document.getElementById('searchBox').addEventListener('input', function(){
      var keyword = this.value.trim();
      var filtered = [];
      if (keyword === "") {
        filtered = stores;
      } else {
        filtered = stores.filter(function(store){
          return store.name.includes(keyword) || store.address.includes(keyword);
        });
      }
      showResults(filtered);
      showStores(filtered);
    });
    showResults(stores);
    showStores(stores);
  </script>
</body>
</html>
