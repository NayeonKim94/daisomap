<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ğŸŸ¥ 2025 ë‹¤ì´ì†Œ ê°€ë§¹ì  ì§€ë„ ğŸŸ¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, sans-serif;
      margin: 0; padding: 0;
      background: #fafafd;
    }
    .main-title {
      font-size: 2.2em;
      text-align: center;
      margin: 36px 0 18px 0;
      font-weight: bold;
      letter-spacing: 0.03em;
    }
    #container {
      max-width: 900px;
      margin: auto;
      padding: 10px;
      position: relative;
    }
    #searchBox {
      margin-bottom: 12px;
      width: 100%;
      max-width: 400px;
      padding: 10px;
      font-size: 1.1em;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-sizing: border-box;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    #results {
      margin-bottom:15px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.03);
      font-size: 1em;
    }
    .store-item {
      padding:12px;
      border-bottom:1px solid #f0f0f0;
      cursor:pointer;
      transition: background 0.15s;
    }
    .store-item:hover, .store-item:active {
      background:#ffe4e1;
    }
    .no-result {
      color:#E13A3A;
      padding:16px;
      text-align:center;
    }
    #map-ad-wrap {
      display: flex;
      gap: 18px;
      margin-bottom: 20px;
      align-items: flex-start;
    }
    #map {
      flex: 1 1 0;
      min-width: 0;
      height: 400px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      background: #fff;
      position: relative;
    }
    /* hits.sh ì¹´ìš´í„° ì˜¤ë¥¸ìª½ ì•„ë˜ ê³ ì • */
    #hit-counter-badge {
      position: fixed;
      right: 34px;
      bottom: 34px;
      z-index: 9999;
      background: none;
      border-radius: 8px;
      padding: 0;
      box-shadow: none;
    }
    @media (max-width: 1000px) {
      #container { max-width: 99vw; padding: 3vw;}
      #map-ad-wrap { gap:10px;}
      #map { height:240px;}
      #hit-counter-badge { right: 10px; bottom: 14px; }
    }
    @media (max-width: 700px) {
      #map-ad-wrap {
        flex-direction: column;
        gap: 10px;
      }
      #map {
        height: 200px;
      }
      .main-title { font-size: 1.3em; }
      #searchBox { font-size:1em; }
      .store-item { font-size: 0.98em; }
    }
    /* ì•ˆë‚´ë¬¸êµ¬ í¬ê¸° ëŒ€í­ ì¶•ì†Œ! */
    .kakao-alert {
      display: none;
      max-width: 440px;
      margin: 0 auto 14px auto;
      padding: 9px 15px 8px 15px;
      border-radius: 11px;
      background: #fff0f2;
      color: #c42525;
      font-size: 0.70em;   /* ë§¤ìš° ì‘ê²Œ */
      font-weight: 500;
      text-align: center;
      box-shadow: 0 2px 10px 0 rgba(255, 74, 88, 0.08);
      line-height: 1.7;
      letter-spacing: 0.01em;
    }
    /* í•˜ë‹¨ ì•ˆë‚´ë¬¸êµ¬ ì¢Œìš° ê³µë°± ë„“ê²Œ! */
    .footer-padding {
      padding-left: 12vw;
      padding-right: 12vw;
    }
    .footer-text {
      text-align: center;
      color: #000;
      font-size: 0.78em;
      margin: 28px 0 6px 0;
      line-height: 1.8;
    }
    .footer-warning {
      color: #DA0037;
      font-size: 0.78em;
      line-height: 1.8;
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="main-title">ğŸŸ¥ 2025 ë‹¤ì´ì†Œ ê°€ë§¹ì  ì§€ë„ ğŸŸ¥</div>
  <div id="kakaoAlert" class="kakao-alert">
    âš ï¸ ì¹´ì¹´ì˜¤í†¡ì—ì„œëŠ” ì§€ë„ê°€ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
    ì˜¤ë¥¸ìª½ ìœ„ â‹® ë²„íŠ¼ ë˜ëŠ”, í•˜ë‹¨ â†‘ ë²„íŠ¼ì—ì„œ Safari/Chromeìœ¼ë¡œ ì—´ê¸°ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”!
  </div>
  <div id="container">
    <input type="text" id="searchBox" placeholder="ì§€ì—­ëª…ìœ¼ë¡œ ê²€ìƒ‰ (ì˜ˆ: ê²½ì£¼)">
    <div id="results"></div>
    <div id="map-ad-wrap">
      <div id="map"></div>
    </div>
  </div>

  <!-- hits.sh ì¹´ìš´í„° ì§€ë„ ë°”ê¹¥ ì˜¤ë¥¸ìª½ ì•„ë˜ ê³ ì • ë±ƒì§€ (label=visitors) -->
  <div id="hit-counter-badge">
    <a href="https://hits.sh/nayeonkim94.github.io/daisomap/" target="_blank" rel="noopener">
      <img alt="Hits" src="https://hits.sh/nayeonkim94.github.io/daisomap.svg?view=today-total&style=flat-square&label=visitors&extraCount=1000&color=ffffff&labelColor=ffffff"/>
    </a>
  </div>

  <!-- í•˜ë‹¨ ì•ˆë‚´ë¬¸êµ¬ padding í´ë˜ìŠ¤ ì¶”ê°€ -->
  <footer class="footer-padding">
    <div class="footer-text">
      ì´ í¬ìŠ¤íŒ…ì€ ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ, ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ìŠµë‹ˆë‹¤.<br>
    </div>
    <div class="footer-warning">
      â€» ë³¸ ì‚¬ì´íŠ¸ëŠ” ë‹¤ì´ì†Œ ë° ì•„ì„±ë‹¤ì´ì†Œì™€ ë¬´ê´€í•œ ë¹„ê³µì‹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë§¤ì¥ ì •ë³´ì˜ ì •í™•ì„±ì€ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ê³µì‹ ì •ë³´ëŠ” ë‹¤ì´ì†Œ í™ˆí˜ì´ì§€ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.<br>
    </div>
    <div class="footer-text">
      Â© 2025 ê°€ë§¹ì  ìœ„ì¹˜ ì•ˆë‚´ ì„œë¹„ìŠ¤ | All rights reserved. | ë§Œë“ ì´: nayeonkim8294@gmail.com
    </div>
  </footer>

  <!-- ì¹´ì¹´ì˜¤ë§µ -->
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=32b4338378d7c102f93e7548e7db28e4"></script>
  <script>
    // ì¹´ì¹´ì˜¤í†¡ in-app ë¸Œë¼ìš°ì € ê°ì§€í•´ì„œ ì•ˆë‚´ë¬¸êµ¬ ë…¸ì¶œ
    function isKakaoInApp() {
      var ua = navigator.userAgent.toLowerCase();
      return ua.indexOf('kakaotalk') !== -1;
    }
    window.onload = function() {
      if(isKakaoInApp()) {
        document.getElementById("kakaoAlert").style.display = "block";
      }
      // ì§€ë„ ì´ˆê¸°í™”
      var stores = [
        {name: "ë‹¤ì´ì†Œ ê²½ì£¼ì ", lat: 35.8562, lng: 129.2247, address: "ê²½ë¶ ê²½ì£¼ì‹œ ì›í™”ë¡œ 295", tel: "054-000-0000"},
        {name: "ë‹¤ì´ì†Œ ê²½ì£¼í„°ë¯¸ë„ì ", lat: 35.8434, lng: 129.2033, address: "ê²½ë¶ ê²½ì£¼ì‹œ êµ¬í™©ë¡œ 36", tel: "054-111-2222"},
        {name: "ë‹¤ì´ì†Œ ì„œìš¸ì ", lat: 37.5665, lng: 126.9780, address: "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ì„¸ì¢…ëŒ€ë¡œ 110", tel: "02-333-4444"},
        {name: "ë‹¤ì´ì†Œ ë¶€ì‚°ì ", lat: 35.1796, lng: 129.0756, address: "ë¶€ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 26", tel: "051-555-6666"}
      ];
      var mapContainer = document.getElementById('map'),
          mapOption = {center: new kakao.maps.LatLng(36.5, 127.9), level: 7};
      var map = new kakao.maps.Map(mapContainer, mapOption);
      var markers = [], infowindows = [];
      function showStores(filteredStores) {
        markers.forEach(marker => marker.setMap(null));
        infowindows.forEach(iw => iw.close());
        markers = []; infowindows = [];
        filteredStores.forEach(function(store, idx){
          var infowindow = new kakao.maps.InfoWindow({
            content: `<div style="max-width:350px; min-width:120px; width:auto;
              word-break:keep-all; white-space:normal;
              font-size:15px; line-height:1.7; padding:12px 15px;
              font-family:'Malgun Gothic',Arial,sans-serif;
              box-sizing:border-box; border-radius:7px;">
              <b style="font-size:16px; display:block; margin-bottom:6px;">${store.name}</b>
              <span style="font-size:14px;">${store.address}</span><br>
              <span style="font-size:14px;">${store.tel}</span>
              </div>`
          });
          var marker = new kakao.maps.Marker({
            map: map,
            position: new kakao.maps.LatLng(store.lat, store.lng)
          });
          kakao.maps.event.addListener(marker, 'click', function() {
            infowindows.forEach(iw=>iw.close());
            infowindow.open(map, marker);
          });
          markers.push(marker);
          infowindows.push(infowindow);
        });
        if (filteredStores.length > 0) {
          map.setCenter(new kakao.maps.LatLng(filteredStores[0].lat, filteredStores[0].lng));
        }
      }
      function showResults(filteredStores) {
        var resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = "";
        if (filteredStores.length === 0) {
          resultsDiv.innerHTML = '<div class="no-result">í•´ë‹¹ ì§€ì—­ì€ ë‹¤ì´ì†Œ ê°€ë§¹ì ì´ ì—†ìŠµë‹ˆë‹¤</div>';
          return;
        }
        filteredStores.forEach(function(store, idx){
          var div = document.createElement('div');
          div.className = 'store-item';
          div.innerHTML = `<b>${store.name}</b><br>${store.address}<br>${store.tel}`;
          div.onclick = function(){
            map.setCenter(new kakao.maps.LatLng(store.lat, store.lng));
            infowindows.forEach(iw=>iw.close());
            infowindows[idx].open(map, markers[idx]);
          };
          resultsDiv.appendChild(div);
        });
      }
      document.getElementById('searchBox').addEventListener('input', function(){
        var keyword = this.value.trim();
        var filtered = [];
        if (keyword === "") filtered = stores;
        else filtered = stores.filter(function(store){
          return store.name.includes(keyword) || store.address.includes(keyword);
        });
        showResults(filtered);
        showStores(filtered);
      });
      showResults(stores);
      showStores(stores);
    };
  </script>
</body>
</html>
